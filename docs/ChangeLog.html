<HTML>
<HEAD>
<TITLE>Perltidy Change Log</TITLE>
<LINK REV="made" HREF="mailto:perl@packages.debian.org">
</HEAD>

<BODY>

<A NAME="__index__"></A>
<!-- INDEX BEGIN -->

<UL>

	<LI><A HREF="#perltidy change log">Perltidy Change Log</A></LI>
	<UL>

		<LI><A HREF="#2001 07 31">2001 07 31</A></LI>
		<LI><A HREF="#2001 07 23">2001 07 23 </A></LI>
		<LI><A HREF="#2001 07 02">2001 07 02</A></LI>
		<LI><A HREF="#2001 07 01">2001 07 01</A></LI>
		<LI><A HREF="#2001 06 17">2001 06 17</A></LI>
		<LI><A HREF="#2001 06 08">2001 06 08</A></LI>
		<LI><A HREF="#2001 04 06">2001 04 06 </A></LI>
		<LI><A HREF="#2001 03 28:">2001 03 28:</A></LI>
		<LI><A HREF="#2001 03 23:">2001 03 23:</A></LI>
		<LI><A HREF="#2001 03 04:">2001 03 04:</A></LI>
		<LI><A HREF="#2001 03 03:">2001 03 03:</A></LI>
	</UL>

</UL>
<!-- INDEX END -->

<HR>
<P>
<H1><A NAME="perltidy change log">Perltidy Change Log</A></H1>
<PRE>
 You can help perltidy evolve into a better program.  If you 
 have hit a bug, unusual behavior, annoyance, or have a suggested
 improvement, please send a note to perltidy at users.sourceforge.net.</PRE>
<P>
<H2><A NAME="2001 07 31">2001 07 31</A></H2>
<PRE>
 -Corrected minor, uncommon bug found during routine testing, in which a
 blank got inserted between a function name and its opening paren after
 a file test operator, but only in the case that the function had not
 been previously seen.  Perl uses the existance (or lack thereof) of 
 the blank to guess if it is a function call.  That is,
    if (-l pid_filename()) {
 became
    if (-l pid_filename ()) {
 which is a syntax error if pid_filename has not been seen by perl.</PRE>
<PRE>
 -If the AutoLoader module is used, perltidy will continue formatting
 code after seeing an __END__ line.  Use -nlal to deactivate this feature.  
 Likewise, if the SelfLoader module is used, perltidy will continue 
 formatting code after seeing a __DATA__ line.  Use -nlsl to
 deactivate this feature.  Thanks to Slaven Rezic for this suggestion.</PRE>
<PRE>
 -pod text after __END__ and __DATA__ is now identified by perltidy
 so that -dp works correctly.  Thanks to Slaven Rezic for this suggestion.</PRE>
<PRE>
 -The first $VERSION line which might be eval'd by MakeMaker
 is now passed through unchanged.  Use -npvl to deactivate this feature.
 Thanks to Manfred Winter for this suggestion.</PRE>
<PRE>
 -Improved indentation of nested parenthesized expressions.  Tests have
 given favorable results.  Thanks to Wolfgang Weisselberg for helpful
 examples.</PRE>
<P>
<H2><A NAME="2001 07 23">2001 07 23</A></H2>
<PRE>

 -Fixed a very rare problem in which an unwanted semicolon was inserted
 due to misidentification of anonymous hash reference curly as a code
 block curly.  (No instances of this have been reported; I discovered it
 during testing).  A workaround for older versions of perltidy is to use
 -nasc.</PRE>
<PRE>
 -Added -icb (-indent-closing-brace) parameter to indent a brace which
 terminates a code block to the same level as the previous line.
 Suggested by Andrew Cutler.  For example,</PRE>
<PRE>
        if ($task) {
            yyy();
            }    # -icb
        else {
            zzz();
            }</PRE>
<PRE>
 -Rewrote error message triggered by an unknown bareword in a print or
 printf filehandle position, and added flag -w=0 to prevent issuing this
 error message.  Suggested by Byron Jones.</PRE>
<PRE>
 -Added modification to align a one-line 'if' block with similar
 following 'elsif' one-line blocks, like this:
      if    ( $something eq &quot;simple&quot; )  { &amp;handle_simple }
      elsif ( $something eq &quot;hard&quot; )    { &amp;handle_hard }
 (Suggested by  Wolfgang Weisselberg).</PRE>
<P>
<H2><A NAME="2001 07 02">2001 07 02</A></H2>
<PRE>
 -Eliminated all constants with leading underscores because perl 5.005_03
 does not support that.  For example, _SPACES changed to XX_SPACES.
 Thanks to kromJx for this update.</PRE>
<P>
<H2><A NAME="2001 07 01">2001 07 01</A></H2>
<PRE>
 -the directory of test files has been moved to a separate distribution
 file because it is getting large but is of little interest to most users.
 For the current distribution:
   perltidy-20010701.tgz        contains the source and docs for perltidy
   perltidy-20010701-test.tgz   contains the test files</PRE>
<PRE>
 -fixed bug where temporary file perltidy.TMPI was not being deleted 
 when input was from stdin.</PRE>
<PRE>
 -adjusted line break logic to not break after closing brace of an
 eval block (suggested by Boris Zentner).</PRE>
<PRE>
 -added flag -gnu (--gnu-style) to give an approximation to the GNU
 style as sometimes applied to perl.  The programming style in GNU
 'automake' was used as a guide in setting the parameters; these
 parameters will probably be adjusted over time.</PRE>
<PRE>
 -an empty code block now has one space for emphasis:
   if ( $cmd eq &quot;bg_untested&quot; ) {}    # old
   if ( $cmd eq &quot;bg_untested&quot; ) { }   # new
 If this bothers anyone, we could create a parameter.</PRE>
<PRE>
 -the -bt (--brace-tightness) parameter has been split into two
 parameters to give more control. -bt now applies only to non-BLOCK
 braces, while a new parameter -bbt (block-brace-tightness) applies to
 curly braces which contain code BLOCKS. The default value is -bbt=0.</PRE>
<PRE>
 -added flag -icp (--indent-closing-paren) which leaves a statment
 termination of the form );, };, or ]; indented with the same
 indentation as the previous line.  For example,</PRE>
<PRE>
    @month_of_year = (          # default, or -nicp
        'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct',
        'Nov', 'Dec'
    );</PRE>
<PRE>
    @month_of_year = (          # -icp
        'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct',
        'Nov', 'Dec'
        );</PRE>
<PRE>
 -Vertical alignment updated to synchronize with tokens &amp;&amp;, ||,
 and, or, if, unless.  Allowable space before forcing
 resynchronization has been increased.  (Suggested by  Wolfgang
 Weisselberg).</PRE>
<PRE>
 -html corrected to use -nohtml-bold-xxxxxxx or -nhbx to negate bold,
 and likewise -nohtml-italic-xxxxxxx or -nhbi to negate italic.  There
 was no way to negate these previously.  html documentation updated and
 corrected.  (Suggested by  Wolfgang Weisselberg).</PRE>
<PRE>
 -Some modifications have been made which improve the -lp formatting in
 a few cases.</PRE>
<PRE>
 -Perltidy now retains or creates a blank line after an =cut to keep
 podchecker happy (Suggested by Manfred H. Winter).  This appears to be
 a glitch in podchecker, but it was annoying.</PRE>
<P>
<H2><A NAME="2001 06 17">2001 06 17</A></H2>
<PRE>
 -Added -bli flag to give continuation indentation to braces, like this</PRE>
<PRE>
        if ($bli_flag)
          {
            extra_indentation();
          }</PRE>
<PRE>
 -Corrected an error with the tab (-t) option which caused the last line
 of a multi-line quote to receive a leading tab.  This error was in
 version 2001 06 08  but not 2001 04 06.  If you formatted a script
 with -t with this version, please check it by running once with the
 -chk flag and perltidy will scan for this possible error.</PRE>
<PRE>
 -Corrected an invalid pattern (\R should have been just R), changed
 $^W =1 to BEGIN {$^W=1} to use warnings in compile phase, and corrected
 several unnecessary 'my' declarations. Many thanks to Wolfgang Weisselberg,
 2001-06-12, for catching these errors.
</PRE>
<PRE>

 -A '-bar' flag has been added to require braces to always be on the
 right, even for multi-line if and foreach statements.  For example,
 the default formatting of a long if statement would be:</PRE>
<PRE>
        if ($bigwasteofspace1 &amp;&amp; $bigwasteofspace2
          || $bigwasteofspace3 &amp;&amp; $bigwasteofspace4)
        {
            bigwastoftime();
        }</PRE>
<PRE>
 With -bar, the formatting is:</PRE>
<PRE>
        if ($bigwasteofspace1 &amp;&amp; $bigwasteofspace2
          || $bigwasteofspace3 &amp;&amp; $bigwasteofspace4) {
            bigwastoftime();
        }
 Suggested by Eli Fidler 2001-06-11.</PRE>
<PRE>
 -Uploaded perltidy to sourceforge cvs 2001-06-10.</PRE>
<PRE>
 -An '-lp' flag (--line-up-parentheses) has been added which causes lists
 to be indented with extra indentation in the manner sometimes
 associated with emacs or the GNU suggestions.  Thanks to Ian Stuart for
 this suggestion and for extensive help in testing it.</PRE>
<PRE>
 -Subroutine call parameter lists are now formatted as other lists.
 This should improve formatting of tables being passed via subroutine
 calls.  This will also cause full indentation ('-i=n, default n= 4) of
 continued parameter list lines rather than just the number of spaces
 given with -ci=n, default n=2.
</PRE>
<PRE>

 -Added support for hanging side comments.  Perltidy identifies a hanging
 side comment as a comment immediately following a line with a side
 comment or another hanging side comment.  This should work in most
 cases.  It can be deactivated with --no-hanging-side-comments (-nhsc).
 The manual has been updated to discuss this.  Suggested by Brad
 Eisenberg some time ago, and finally implemented.</PRE>
<P>
<H2><A NAME="2001 06 08">2001 06 08</A></H2>
<PRE>
 -fixed problem with parsing command parameters containing quoted
 strings in .perltidyrc files. (Reported by Roger Esper Llima 2001-06-07).</PRE>
<PRE>
 -added two command line flags, --want-break-after and 
 --want-break-before, which allow changing whether perltidy
 breaks lines before or after any operators.  Please see the revised 
 man pages for details.</PRE>
<PRE>
 -added system-wide configuration file capability.
 If perltidy does not find a .perltidyrc command line file in
 the current directory, nor in the home directory, it now looks
 for '/usr/local/etc/perltidyrc' and then for '/etc/perltidyrc'.
 (Suggested by Roger Esper Llima 2001-05-31).</PRE>
<PRE>
 -fixed problem in which spaces were trimmed from lines of a multi-line
 quote. (Reported by Roger Esper Llima 2001-05-30).  This is an 
 uncommon situation, but serious, because it could conceivably change
 the proper function of a script.</PRE>
<PRE>
 -fixed problem in which a semicolon was incorrectly added within 
 an anonymous hash.  (Reported by A.C. Yardley, 2001-5-23).
 (You would know if this happened, because perl would give a syntax
 error for the resulting script).</PRE>
<PRE>
 -fixed problem in which an incorrect error message was produced
  after a version number on a 'use' line, like this ( Reported 
  by Andres Kroonmaa, 2001-5-14):</PRE>
<PRE>
              use CGI 2.42 qw(fatalsToBrowser);</PRE>
<PRE>
  Other than the extraneous error message, this bug was harmless.</PRE>
<P>
<H2><A NAME="2001 04 06">2001 04 06</A></H2>
<PRE>

 -fixed serious bug in which the last line of some multi-line quotes or
  patterns was given continuation indentation spaces.  This may make
  a pattern incorrect unless it uses the /x modifier.  To find
  instances of this error in scripts which have been formatted with
  earlier versions of perltidy, run with the -chk flag, which has
  been added for this purpose (SLH, 2001-04-05).</PRE>
<PRE>
  ** So, please check previously formatted scripts by running with -chk
  at least once **</PRE>
<PRE>
 -continuation indentation has been reprogrammed to be hierarchical, 
  which improves deeply nested structures.</PRE>
<PRE>
 -fixed problem with undefined value in list formatting (reported by Michael
  Langner 2001-04-05)</PRE>
<PRE>
 -Switched to graphical display of nesting in .LOG files.  If an
  old format string was &quot;(1 [0 {2&quot;, the new string is &quot;{{(&quot;.  This
  is easier to read and also shows the order of nesting.</PRE>
<PRE>
 -added outdenting of cuddled paren structures, like  &quot;)-&gt;pack(&quot;.</PRE>
<PRE>
 -added line break and outdenting of ')-&gt;' so that instead of</PRE>
<PRE>
        $mw-&gt;Label(
          -text   =&gt; &quot;perltidy&quot;,
          -relief =&gt; 'ridge')-&gt;pack;
</PRE>
<PRE>

  the current default is:</PRE>
<PRE>
        $mw-&gt;Label(
          -text   =&gt; &quot;perltidy&quot;,
          -relief =&gt; 'ridge'
        )-&gt;pack;</PRE>
<PRE>
  (requested by Michael Langner 2001-03-31; in the future this could 
  be controlled by a command-line parameter).</PRE>
<PRE>
 -revised list indentation logic, so that lists following an assignment
  operator get one full indentation level, rather than just continuation 
  indentation.  Also corrected some minor glitches in the continuation 
  indentation logic.</PRE>
<PRE>
 -Fixed problem with unwanted continuation indentation after a blank line 
 (reported by Erik Thaysen 2001-03-28):</PRE>
<PRE>
 -minor update to avoid stranding a single '(' on one line</PRE>
<P>
<H2><A NAME="2001 03 28:">2001 03 28:</A></H2>
<PRE>
 -corrected serious error tokenizing filehandles, in which a sub call 
 after a print or printf, like this:
    print usage() and exit;
 became this:
    print usage () and exit;
 Unfortunately, this converts 'usage' to a filehandle.  To fix this, rerun
 perltidy; it will look for this situation and issue a warning.</PRE>
<PRE>
 -fixed another cuddled-else formatting bug (Reported by Craig Bourne)</PRE>
<PRE>
 -added several diagnostic --dump routines
</PRE>
<PRE>

 -added token-level whitespace controls (suggested by Hans Ecke)</PRE>
<P>
<H2><A NAME="2001 03 23:">2001 03 23:</A></H2>
<PRE>
 -added support for special variables of the form ${^WANT_BITS}</PRE>
<PRE>
 -space added between scalar and left paren in 'for' and 'foreach' loops,
  (suggestion by Michael Cartmell):</PRE>
<PRE>
    for $i( 1 .. 20 )   # old
    for $i ( 1 .. 20 )   # new</PRE>
<PRE>
 -html now outputs cascading style sheets (thanks to suggestion from
  Hans Ecke)</PRE>
<PRE>
 -flags -o and -st now work with -html</PRE>
<PRE>
 -added missing -html documentation for comments (noted by Alex Izvorski)</PRE>
<PRE>
 -support for VMS added (thanks to Michael Cartmell for code patches and 
   testing)</PRE>
<PRE>
 -v-strings implemented (noted by Hans Ecke and Michael Cartmell; extensive
   testing by Michael Cartmell)</PRE>
<PRE>
 -fixed problem where operand may be empty at line 3970 
  (\b should be just b in lines 3970, 3973) (Thanks to Erik Thaysen, 
  Keith Marshall for bug reports)</PRE>
<PRE>
 -fixed -ce bug (cuddled else), where lines like '} else {' were indented
  (Thanks to Shawn Stepper and Rick Measham for reporting this)</PRE>
<P>
<H2><A NAME="2001 03 04:">2001 03 04:</A></H2>
<PRE>
 -fixed undefined value in line 153 (only worked with -I set)
 (Thanks to Mike Stok, Phantom of the Opcodes, Ian Ehrenwald, and others)</PRE>
<PRE>
 -fixed undefined value in line 1069 (filehandle problem with perl versions &lt;
 5.6) (Thanks to Yuri Leikind, Mike Stok, Michael Holve, Jeff Kolber)</PRE>
<P>
<H2><A NAME="2001 03 03:">2001 03 03:</A></H2>
<PRE>
 -Initial announcement at freshmeat.net; started Change Log
 (Unfortunately this version was DOA, but it was fixed the next day)</PRE>

</BODY>

</HTML>
